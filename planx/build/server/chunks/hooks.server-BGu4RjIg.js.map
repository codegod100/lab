{"version":3,"file":"hooks.server-BGu4RjIg.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { d as private_env } from \"./shared-server.js\";\nconst BASIC_AUTH_USER = private_env.BASIC_AUTH_USER;\nconst BASIC_AUTH_PASS = private_env.BASIC_AUTH_PASS;\nconst handle = async ({ event, resolve }) => {\n  if (!BASIC_AUTH_USER || !BASIC_AUTH_PASS) {\n    return new Response(\"Basic auth credentials not configured\", {\n      status: 401,\n      headers: {\n        \"WWW-Authenticate\": 'Basic realm=\"Secure Area\"'\n      }\n    });\n  }\n  const authHeader = event.request.headers.get(\"authorization\");\n  if (!authHeader || !authHeader.startsWith(\"Basic \")) {\n    return new Response(\"Unauthorized\", {\n      status: 401,\n      headers: {\n        \"WWW-Authenticate\": 'Basic realm=\"Secure Area\"'\n      }\n    });\n  }\n  const base64Credentials = authHeader.slice(\"Basic \".length).trim();\n  let credentials;\n  try {\n    credentials = atob(base64Credentials);\n  } catch {\n    return new Response(\"Invalid authorization header\", {\n      status: 401,\n      headers: {\n        \"WWW-Authenticate\": 'Basic realm=\"Secure Area\"'\n      }\n    });\n  }\n  const [username, password] = credentials.split(\":\");\n  if (username !== BASIC_AUTH_USER || password !== BASIC_AUTH_PASS) {\n    return new Response(\"Unauthorized\", {\n      status: 401,\n      headers: {\n        \"WWW-Authenticate\": 'Basic realm=\"Secure Area\"'\n      }\n    });\n  }\n  return resolve(event);\n};\nexport {\n  handle\n};\n"],"names":[],"mappings":";;AACA,MAAM,eAAe,GAAG,WAAW,CAAC,eAAe;AACnD,MAAM,eAAe,GAAG,WAAW,CAAC,eAAe;AAC9C,MAAC,MAAM,GAAG,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK;AAC7C,EAAE,IAAI,CAAC,eAAe,IAAI,CAAC,eAAe,EAAE;AAC5C,IAAI,OAAO,IAAI,QAAQ,CAAC,uCAAuC,EAAE;AACjE,MAAM,MAAM,EAAE,GAAG;AACjB,MAAM,OAAO,EAAE;AACf,QAAQ,kBAAkB,EAAE;AAC5B;AACA,KAAK,CAAC;AACN;AACA,EAAE,MAAM,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC;AAC/D,EAAE,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AACvD,IAAI,OAAO,IAAI,QAAQ,CAAC,cAAc,EAAE;AACxC,MAAM,MAAM,EAAE,GAAG;AACjB,MAAM,OAAO,EAAE;AACf,QAAQ,kBAAkB,EAAE;AAC5B;AACA,KAAK,CAAC;AACN;AACA,EAAE,MAAM,iBAAiB,GAAG,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AACpE,EAAE,IAAI,WAAW;AACjB,EAAE,IAAI;AACN,IAAI,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC;AACzC,GAAG,CAAC,MAAM;AACV,IAAI,OAAO,IAAI,QAAQ,CAAC,8BAA8B,EAAE;AACxD,MAAM,MAAM,EAAE,GAAG;AACjB,MAAM,OAAO,EAAE;AACf,QAAQ,kBAAkB,EAAE;AAC5B;AACA,KAAK,CAAC;AACN;AACA,EAAE,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;AACrD,EAAE,IAAI,QAAQ,KAAK,eAAe,IAAI,QAAQ,KAAK,eAAe,EAAE;AACpE,IAAI,OAAO,IAAI,QAAQ,CAAC,cAAc,EAAE;AACxC,MAAM,MAAM,EAAE,GAAG;AACjB,MAAM,OAAO,EAAE;AACf,QAAQ,kBAAkB,EAAE;AAC5B;AACA,KAAK,CAAC;AACN;AACA,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC;AACvB;;;;"}